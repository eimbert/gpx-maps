<h2 mat-dialog-title class="dialog-header">
  Configurar opciones
</h2>

<mat-dialog-content class="dialog-content">
  <p class="dialog-subtitle">
    Personaliza la experiencia de tu vídeo antes de generar el recorrido.
  </p>

  <section class="option-section">
    <div class="section-header">
      <h3>Preferencias del vídeo</h3>
      <p class="section-hint">Selecciona los ajustes que mejor se adapten a tu proyecto.</p>
    </div>
    <div class="checkbox-grid">
      <mat-checkbox [(ngModel)]="eliminarPausasLargas">
        Depurar el track para eliminar pausas largas
      </mat-checkbox>

      <mat-checkbox [(ngModel)]="anadirLogoTitulos">
        Añadir un logo a los títulos (ej. logo de la carrera)
      </mat-checkbox>

      <mat-checkbox [(ngModel)]="activarMusica">
        Activar la música
      </mat-checkbox>

      <mat-checkbox [(ngModel)]="grabarAnimacion">
        Grabar automáticamente la animación
      </mat-checkbox>
    </div>

    <div class="visualization-modes">
      <span class="orientation-label">Modo de visualización:</span>
      <label class="orientation-option">
        <input
          type="radio"
          name="visualizacion"
          value="general"
          [(ngModel)]="modoVisualizacion"
        />
        Vista actual (general)
      </label>
      <label class="orientation-option">
        <input
          type="radio"
          name="visualizacion"
          value="zoomCabeza"
          [(ngModel)]="modoVisualizacion"
        />
        Zoom a la cabeza de carrera
      </label>
    </div>

    <div class="recording-orientation" *ngIf="grabarAnimacion">
      <span class="orientation-label">Relación de aspecto para la grabación:</span>
      <label class="orientation-option">
        <input
          type="radio"
          name="grabacion-aspect"
          value="16:9"
          [(ngModel)]="relacionAspectoGrabacion"
        />
        16:9 (horizontal)
      </label>
      <label class="orientation-option">
        <input
          type="radio"
          name="grabacion-aspect"
          value="9:16"
          [(ngModel)]="relacionAspectoGrabacion"
        />
        9:16 (vertical)
      </label>
    </div>
  </section>

  <ng-container *ngIf="permitirAdversarioVirtual">
    <section class="option-section">
      <div class="section-header">
        <h3>Adversario virtual</h3>
        <p class="section-hint">Añade un segundo corredor para comparar ritmos.</p>
      </div>

      <mat-checkbox [(ngModel)]="incluirAdversarioVirtual">
        Incluir adversario virtual (player 2)
      </mat-checkbox>

      <div class="virtual-time" *ngIf="incluirAdversarioVirtual">
        <label for="virtual-time-input">Tiempo objetivo (hh:mm)</label>
        <input
          id="virtual-time-input"
          type="time"
          step="60"
          [(ngModel)]="tiempoAdversarioVirtual"
        />
      </div>
    </section>
  </ng-container>
</mat-dialog-content>

<mat-dialog-actions align="end" class="dialog-actions">
  <button mat-button (click)="cancelar()">Cancelar</button>
  <button mat-flat-button color="primary" (click)="guardar()">Continuar</button>
</mat-dialog-actions>
